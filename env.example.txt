# 宅建合格ロード - 環境変数テンプレート
# このファイルを .env.local にコピーして、実際の値を設定してください
# コピーコマンド: copy env.example.txt .env.local

# ===========================================
# Firebase 設定（必須）
# Firebase Console > プロジェクト設定 で取得
# ===========================================
NEXT_PUBLIC_FIREBASE_API_KEY=your_firebase_api_key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.firebasestorage.app
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_messaging_sender_id
NEXT_PUBLIC_FIREBASE_APP_ID=your_app_id
NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID=your_measurement_id

# ===========================================
# Firebase Admin SDK 設定（サーバー側認証用）
# ===========================================
# Firebase Console > プロジェクト設定 > サービスアカウント
# https://console.firebase.google.com/project/YOUR_PROJECT/settings/serviceaccounts/adminsdk
#
# サービスアカウントキーをダウンロードし、以下のいずれかの方法で設定:
#
# 方法1: JSON文字列として直接設定（推奨: 開発環境）
# FIREBASE_SERVICE_ACCOUNT_KEY={"type":"service_account","project_id":"your-project-id",...}
#
# 方法2: BASE64エンコード（推奨: 本番環境、環境変数の改行問題を回避）
# サービスアカウントキーのJSONファイルをBASE64エンコードして設定
# Windows: certutil -encode serviceAccountKey.json encoded.txt でエンコード後、内容をコピー
# Linux/Mac: base64 -i serviceAccountKey.json でエンコード
# FIREBASE_SERVICE_ACCOUNT_KEY=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9...
#
# ⚠️ 重要:
# - サービスアカウントキーの project_id と NEXT_PUBLIC_FIREBASE_PROJECT_ID が一致している必要があります
# - 本番環境では必ず設定してください（デフォルト認証情報は動作しません）
# - 開発環境でも設定を推奨します（認証エラーを防ぐため）
FIREBASE_SERVICE_ACCOUNT_KEY=

# ===========================================
# 開発環境認証設定（開発環境のみ）
# ===========================================
# 開発環境で認証をバイパスする場合（非推奨、テスト目的のみ）
# 本番環境では無視されます
# ALLOW_DEV_BYPASS_AUTH=true

# ===========================================
# Firebase Emulator（開発環境用）
# ===========================================
# 開発時にFirebaseエミュレーターを使う場合は true に設定
NEXT_PUBLIC_USE_FIREBASE_EMULATORS=false

# ===========================================
# AI API 設定（いずれか1つ以上必須）
# ⚠️ 重要: これらは Firebase Functions でのみ使用
# クライアント側では使用しないため NEXT_PUBLIC_ なし
# ===========================================

# OpenAI (推奨)
# https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-...

# Anthropic Claude (オプション)
# https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=sk-ant-...

# Google AI (オプション)
# https://makersuite.google.com/app/apikey
GOOGLE_AI_API_KEY=AIza...

# ===========================================
# PWA 設定（プッシュ通知用）
# ===========================================
# Firebase Console > Cloud Messaging > Web Push certificates
NEXT_PUBLIC_VAPID_PUBLIC_KEY=your_vapid_public_key

# アプリケーションURL（本番環境）
NEXT_PUBLIC_APP_URL=https://your-domain.web.app

# ===========================================
# Stripe 設定（課金システム用）
# ===========================================
# Stripeダッシュボード > 開発者 > APIキー で取得
# https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...

# Stripe Webhook シークレット（Webhook設定後に取得）
# Stripeダッシュボード > 開発者 > Webhook で設定
# https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_...

# Stripe Price ID（オプション - 事前に作成したPrice IDがある場合）
# Stripeダッシュボード > 商品 > 価格 で作成・取得
# https://dashboard.stripe.com/products
# STRIPE_PRICE_ID_PREMIUM_MONTHLY=price_...
# STRIPE_PRICE_ID_PREMIUM_YEARLY=price_...

# ===========================================
# 開発設定
# ===========================================
NODE_ENV=development

# ===========================================
# 🚨 次のステップ
# ===========================================
# 1. このファイルを .env.local にコピー:
#    copy env.example.txt .env.local
#
# 2. Firebase Console から実際の値を取得して設定
#
# 3. OpenAI APIキーを取得（最低1つのAI APIが必要）
#    https://platform.openai.com/api-keys
#
# 4. 開発サーバーを起動:
#    npm run dev
#
# 5. 環境変数が正しく設定されているか確認:
#    npm run test:env

