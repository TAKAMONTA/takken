const fs = require('fs');
const path = require('path');

// Create a simple placeholder icon data (1x1 pixel PNG)
const iconData = Buffer.from([
  0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A, // PNG signature
  0x00, 0x00, 0x00, 0x0D, 0x49, 0x48, 0x44, 0x52, // IHDR chunk
  0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01,
  0x08, 0x02, 0x00, 0x00, 0x00, 0x90, 0x77, 0x53,
  0xDE, 0x00, 0x00, 0x00, 0x0C, 0x49, 0x44, 0x41,
  0x54, 0x08, 0x99, 0x63, 0xF8, 0x4F, 0x46, 0xE5,
  0x00, 0x00, 0x03, 0x01, 0x01, 0x00, 0x18, 0xDD,
  0x8D, 0xB4, 0x00, 0x00, 0x00, 0x00, 0x49, 0x45,
  0x4E, 0x44, 0xAE, 0x42, 0x60, 0x82
]);

const iconsDir = path.join(__dirname, '..', '..', 'public', 'icons');

// Ensure icons directory exists
if (!fs.existsSync(iconsDir)) {
  fs.mkdirSync(iconsDir, { recursive: true });
}

// Icon sizes needed for PWA
const sizes = ['16x16', '32x32', '144x144', '192x192', '512x512'];

sizes.forEach(size => {
  const filename = `icon-${size}.png`;
  const filepath = path.join(iconsDir, filename);
  fs.writeFileSync(filepath, iconData);
  console.log(`Created ${filename}`);
});

// Create favicon.ico in public directory
const faviconPath = path.join(__dirname, '..', '..', 'public', 'favicon.ico');
fs.writeFileSync(faviconPath, iconData);
console.log('Created favicon.ico');

console.log('All icons generated successfully!');
